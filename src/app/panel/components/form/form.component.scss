@import '../../../../assets/sass/partials/imports';

app-form {
  > form {
    &.loading {
      > header {
        > .progress {
          display: block;
        }
      }
      > div.fields-wrapper {
        &:after {
          display: block;
        }
      }

    }
    > header {
      background: #f5f5f5;
      margin: -#{$cardPaddingY} -#{$cardPaddingX} $cardPaddingY;
      > h3 {
        margin: 0;
        padding: 15px 30px;
        font-size: 18px;
        border-bottom: 1px solid $lightGrey;
      }
      // Progress Bar
      > .progress {
        display: none;
        position: relative;
        height: 4px;
        margin: 0;
        width: 100%;
        border-radius: 0;
        background-color: lighten($primary, 40);
        background-clip: padding-box;
        overflow: hidden;

        > .indeterminate {
          background-color: $primary;

          &:before {
            content: '';
            position: absolute;
            background-color: inherit;
            top: 0;
            left: 0;
            bottom: 0;
            will-change: left, right;
            -webkit-animation: indeterminate 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
            animation: indeterminate 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
          }
          &:after {
            content: '';
            position: absolute;
            background-color: inherit;
            top: 0;
            left: 0;
            bottom: 0;
            will-change: left, right;
            -webkit-animation: indeterminate-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;
            animation: indeterminate-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;
            -webkit-animation-delay: 1.15s;
            animation-delay: 1.15s;
          }
        }
      }
      @-webkit-keyframes indeterminate {
        0% {
          left: -35%;
          right: 100%;
        }
        60% {
          left: 100%;
          right: -90%;
        }
        100% {
          left: 100%;
          right: -90%;
        }
      }
      @keyframes indeterminate {
        0% {
          left: -35%;
          right: 100%;
        }
        60% {
          left: 100%;
          right: -90%;
        }
        100% {
          left: 100%;
          right: -90%;
        }
      }
      @-webkit-keyframes indeterminate-short {
        0% {
          left: -200%;
          right: 100%;
        }
        60% {
          left: 107%;
          right: -8%;
        }
        100% {
          left: 107%;
          right: -8%;
        }
      }
      @keyframes indeterminate-short {
        0% {
          left: -200%;
          right: 100%;
        }
        60% {
          left: 107%;
          right: -8%;
        }
        100% {
          left: 107%;
          right: -8%;
        }
      }
    }
    > div.fields-wrapper {
      position: relative;
      &:after {
        display: none;
        content: '';
        position: absolute;
        top: -#{$cardPaddingY};
        left: -#{$cardPaddingX};
        width: calc(100% + (#{$cardPaddingX}*2));
        height: calc(100% + (#{$cardPaddingY}*2));
        background: #4c4c4c;
        opacity: 0.1;
      }
    }
  }
}