<form *ngIf="form" [formGroup]="form" (keyup.enter)="onSubmit()" [ngClass]="{'loading': isLoading || isLoginLoading}">
    <header>
        <h3 *ngIf="settings.title">{{ settings.title }}</h3>
        <div class="progress">
            <div class="indeterminate"></div>
        </div>
    </header>

    <div class="errors" [ngClass]="{'visible': settings.errors && settings.errors.length > 0}">
        <ul>
            <li *ngFor="let error of settings.errors">
                {{error}}
            </li>
        </ul>
        <span (click)="closeErrors()">Ã—</span>
    </div>

    <div class="fields-wrapper">
        <div class="row">
            <div [hidden]="!isMultiLangEnabled">
                <select (change)="onLanguageChange($event.target.value)">
                    <option *ngFor="let language of getLanguages()" [(selected)]=" language == currentLang " value="{{language.isoCode}}">
                        {{language.name}}
                    </option>
                </select>
            </div>
            <div *ngFor="let field of settings.fields">

                <div [ngSwitch]="field.type">

                    <app-separator
                            *ngSwitchCase="formConfig.noInputTypes.SEPARATOR"
                            [field]="field">
                    </app-separator>

                    <app-input-text
                            *ngSwitchCase="formConfig.types.TEXT"
                            [form]="form"
                            [field]="field">
                    </app-input-text>

                    <app-input-password
                            *ngSwitchCase="formConfig.types.PASSWORD"
                            [form]="form"
                            [field]="field">
                    </app-input-password>

                    <app-input-url
                            *ngSwitchCase="formConfig.types.URL"
                            [form]="form"
                            [field]="field">
                    </app-input-url>

                    <app-input-number
                            *ngSwitchCase="formConfig.types.NUMBER"
                            [form]="form"
                            [field]="field">
                    </app-input-number>

                    <app-input-color
                            *ngSwitchCase="formConfig.types.COLOR"
                            [form]="form"
                            [field]="field"
                    ></app-input-color>

                    <app-input-textarea
                            *ngSwitchCase="formConfig.types.TEXTAREA"
                            [form]="form"
                            [field]="field">
                    </app-input-textarea>

                    <app-select
                            *ngSwitchCase="formConfig.types.SELECT"
                            [form]="form"
                            [field]="field">
                    </app-select>

                    <app-input-email
                            *ngSwitchCase="formConfig.types.EMAIL"
                            [form]="form"
                            [field]="field">
                    </app-input-email>

                    <app-checkbox
                            *ngSwitchCase="formConfig.types.CHECKBOX"
                            [form]="form"
                            [field]="field">
                    </app-checkbox>

                    <app-date-time
                            *ngSwitchCase="formConfig.types.DATE"
                            [form]="form"
                            [field]="field"
                    ></app-date-time>

                    <app-date-time-range
                            *ngSwitchCase="formConfig.types.DATE_RANGE"
                            [form]="form"
                            [field]="field"
                    ></app-date-time-range>

                    <app-file-upload
                            *ngSwitchCase="formConfig.types.FILE"
                            [form]="form"
                            [field]="field"
                            [isEdit]="isEdit"
                    ></app-file-upload>

                    <app-map
                            *ngSwitchCase="formConfig.types.MAP"
                            [form]="form"
                            [field]="field">
                    </app-map>

                    <!--
                                     <list-details
                                             *ngSwitchCase="formConfig.types.LIST_DETAILS"
                                             [form]="form"
                                             [field]="field"
                                             [isEdit]="isEdit">
                                     </list-details>

                                     <calendar
                                             *ngSwitchCase="formConfig.types.CALENDAR"
                                             [form]="form"
                                             [field]="field">
                                     </calendar> -->

                </div>

            </div>
        </div>

        <div class="row">
            <div class="col-sm-12">
                <div class="pull-right">
                    <button type="button" (click)="onSubmit()" class="btn btn-primary"
                            [disabled]="!form.valid || isLoading"> {{ settings.submit?.label ? settings.submit.label :
                        'Save'}}
                    </button>
                </div>
            </div>
        </div>
    </div>
</form>

